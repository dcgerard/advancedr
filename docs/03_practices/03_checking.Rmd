---
title: "Automatic Checks"
author: "David Gerard"
date: "`r Sys.Date()`"
output:  
  html_document:
    toc: true
    toc_depth: 4
    toc_float: false
    highlight: pygments
urlcolor: "blue"
---

```{r setup, include=FALSE}
set.seed(1)
knitr::opts_chunk$set(echo       = TRUE, 
                      fig.align  = "center",
                      fig.height = 3, 
                      fig.width  = 4)
knitr::opts_knit$set(global.par = TRUE)
ggplot2::theme_set(ggplot2::theme_bw() + ggplot2::theme(strip.background = ggplot2::element_rect(fill = "white")))
```

```{r klippy, echo=FALSE, include=TRUE}
klippy::klippy()
par(mar = c(3, 3, 2, 1),
mgp = c(1.8, 0.4, 0), 
las = 1,
tcl = -.25)
```

# Learning Objectives

- Package Checking
- Continuous Integration
- Chapter 19 from [R Packages](https://r-pkgs.org/index.html)

# Package Checking

- Don't include non-ASCII characters in your code. This will give you a CRAN note.

- If you accidentally include such characters, you can find them with
    ```{r, eval = FALSE}
    tools::showNonASCIIfile()
    ```
    
## Continuous Integration

# Coding Style

- You should break up your functions into discrete tasks.
    - Reduces duplicating code, so less prone to bugs.
    - Allows you to think more modularly about tasks, which makes code easier to reason about.
    - Makes it easier to combine code in new ways.

- One way to force you to do this is to make all functions be less than some length. E.g. Bioconductor recommends having [no functions longer than 50 lines](https://bioconductor.org/packages/devel/bioc/vignettes/BiocCheck/inst/doc/BiocCheck.html#function-length-checking).

